{
    "swagger": "2.0",
    "info": {
        "version": "lending-api-v1-de",
        "title": "Lending API",
        "description": "Description of the Lending API."
    },
    "host": "www.iwoca.co.uk",
    "basePath": "/api/lending/v1",
    "schemes": [
        "https"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/approval_request/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "post": {
                "operationId": "POST_approval_request-state_key",
                "summary": "Triggers a credit decision for a given customer",
                "tags": [
                    "Approval_request"
                ],
                "description": "This method should be used when a decision needs to be made for a customer. It doesn't expect any payload, all needed information should have been provided in the state of the customer.",
                "responses": {
                    "201": {
                        "description": "Approval request properly received."
                    }
                }
            }
        },
        "/document_upload/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "get": {
                "operationId": "GET_document_upload-state_key",
                "summary": "List of uploaded documents",
                "responses": {
                    "200": {
                        "description": "A list of uploaded documents for a customer.",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "items": {
                                        "$ref": "#/definitions/uploaded_document"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                }
            },
            "post": {
                "operationId": "POST_document_upload-state_key",
                "summary": "Upload customer documents",
                "consumes": [
                    "multipart/form-data"
                ],
                "parameters": [
                    {
                        "name": "document",
                        "in": "formData",
                        "required": true,
                        "type": "file"
                    },
                    {
                        "name": "document_type",
                        "in": "formData",
                        "required": true,
                        "type": "string",
                        "enum": [
                            "bank statement",
                            "business accounts",
                            "vat return",
                            "invoices",
                            "personal id",
                            "customer broker consent",
                            "balance sheet",
                            "profit and loss",
                            "company bylaws",
                            "nif card",
                            "modelo",
                            "management accounts",
                            "aged debtor report",
                            "business plan",
                            "personal bank statement",
                            "articles of association",
                            "limited partner id",
                            "share registry",
                            "shareholder id",
                            "trade certificate",
                            "cash register",
                            "other",
                            "list of shareholders",
                            "management and balance accounts",
                            "year end management accounts",
                            "year end management and balance accounts"
                        ]
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Upload new documents for a customer.",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/uploaded_document",
                                    "type": "object"
                                }
                            },
                            "required": [
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                }
            }
        },
        "/partner_webhook_url/": {
            "post": {
                "operationId": "POST_partner_webhook_url",
                "summary": "Partner Webhook for iwoca events",
                "tags": [
                    "Partner_webhook_url"
                ],
                "description": "This endpoint SHOULD live on the partner side. It allows to get informed about an event happening on iwoca system. partner_webhook_url should be replaced with any partner url wanted.",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/webhook_payload"
                        }
                    },
                    {
                        "name": "X-IW-Event-Type",
                        "in": "header",
                        "description": "The event type sent by iwoca.",
                        "required": true,
                        "type": "string",
                        "enum": [
                            "approval_status_changed",
                            "cashflow_added",
                            "arrangement_created",
                            "instruct_payments"
                        ]
                    },
                    {
                        "name": "X-IW-Event-ID",
                        "in": "header",
                        "description": "The event id sent by iwoca.",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "name": "X-IW-Signature",
                        "in": "header",
                        "description": "HMAC hex digest of the payload.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "iwoca event correctly received."
                    }
                }
            }
        },
        "/document_upload/{state_key}/{document_id}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                },
                {
                    "name": "document_id",
                    "in": "path",
                    "description": "The hash used to lookup up a existing uploaded document.",
                    "required": true,
                    "type": "string",
                    "format": "hash"
                }
            ],
            "put": {
                "operationId": "PUT_document_upload-state_key-document_id",
                "summary": "Update uploaded document",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "document_type": {
                                            "enum": [
                                                "bank statement",
                                                "business accounts",
                                                "vat return",
                                                "invoices",
                                                "personal id",
                                                "customer broker consent",
                                                "balance sheet",
                                                "profit and loss",
                                                "company bylaws",
                                                "nif card",
                                                "modelo",
                                                "management accounts",
                                                "certificados",
                                                "aged debtor report",
                                                "business plan",
                                                "pnl and balance",
                                                "personal bank statement",
                                                "self assessment tax return",
                                                "articles of association",
                                                "limited partner id",
                                                "share registry",
                                                "shareholder id",
                                                "trade certificate",
                                                "cash register",
                                                "other"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "document_type"
                                    ],
                                    "type": "object"
                                }
                            },
                            "required": [
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Empty Response"
                    }
                }
            }
        },
        "/credit_facility_status/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "get": {
                "operationId": "GET_credit_facility_status-state_key",
                "summary": "Get credit facility information for a given customer",
                "tags": [
                    "Credit_facility_status"
                ],
                "description": "The data returned contains information like approval status, loan status, repayments, cashflows, ...",
                "responses": {
                    "200": {
                        "description": "Data for a specific customer.",
                        "schema": {
                            "$ref": "#/definitions/credit_facility_status"
                        }
                    }
                }
            }
        },
        "/login_link/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "get": {
                "operationId": "GET_login_link-state_key",
                "summary": "Generate a one time login link for the user's iwoca account",
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "login_link": {
                                            "format": "uri",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "login_link"
                                    ],
                                    "type": "object"
                                }
                            },
                            "required": [
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                }
            }
        },
        "/state/": {
            "post": {
                "operationId": "POST_state",
                "summary": "Create an iwoca credit application for a new customer",
                "tags": [
                    "State"
                ],
                "description": "The POST request should be used to create an iwoca account for the customer. It's always the first endpoint and method you should call when submitting a new customer. We'll return a state_key used to identify the customer in all future requests. Almost all fields in the State are optional since you can submit a partial application initially, then add or update data over time (through the PUT method). Your iwoca contact will be able to give you details on which fields are recommended to help us make a lending decision.",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/state_payload"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "State correctly received.",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "additionalProperties": false,
                                    "description": "Present only if the request went fine.",
                                    "properties": {
                                        "state_key": {
                                            "format": "uuid",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "state_key"
                                    ],
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            }
        },
        "/state/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "put": {
                "operationId": "PUT_state-state_key",
                "summary": "Update iwoca account information for a specific customer",
                "tags": [
                    "State"
                ],
                "description": "The PUT request should be used to add or update data for a customer. Note that the entire State must be submitted each time you use this endpoint to avoid losing data, even if you are just updating a few fields.",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/state_payload"
                        }
                    }
                ],
                "responses": {
                    "202": {
                        "description": "State correctly received.",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "additionalProperties": false,
                                    "description": "Present only if the request went fine.",
                                    "properties": {
                                        "version": {
                                            "description": "This represents the version of the state saved to the database as a result of your PUT request and should be placed in the version field of the state for any subsequent PUT requests. This field is used for optimistic concurrency control and will only be returned if your API user has been configured to use the optmistic concurrency control mechanism.",
                                            "format": "uuid",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            }
        },
        "/report/{report_type}/": {
            "parameters": [
                {
                    "name": "report_type",
                    "in": "path",
                    "description": "The type of report to generate",
                    "required": true,
                    "type": "string",
                    "enum": [
                        "customer"
                    ]
                }
            ],
            "get": {
                "operationId": "GET_report-report_type",
                "summary": "Generate a reports",
                "tags": [
                    "Report"
                ],
                "description": "This endpoint can be used to generate reports about credit facility features and customer applications. Please speak with us if you would like to have access to this endpoint.",
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/report"
                        }
                    }
                }
            }
        },
        "/credit_facility_repayment_schedule/{state_key}/": {
            "parameters": [
                {
                    "name": "state_key",
                    "in": "path",
                    "description": "The state_key used to represent a customer.",
                    "required": true,
                    "type": "string",
                    "format": "uuid"
                }
            ],
            "get": {
                "operationId": "GET_credit_facility_repayment_schedule-state_key",
                "summary": "Get a repayment schedule",
                "tags": [
                    "Repayment_schedule"
                ],
                "description": "Returning the repayment schedule for a customer, with possible early repayment or new draw-down simulation.",
                "parameters": [
                    {
                        "name": "mode",
                        "in": "query",
                        "description": "Specify which simulation mode this repayment schedule should take into account.",
                        "required": true,
                        "type": "string",
                        "enum": [
                            "early_repayment",
                            "draw_down"
                        ]
                    },
                    {
                        "name": "amount",
                        "in": "query",
                        "description": "The amount you want to repay or draw-down. If not specified, will return the current loan schedule, if any.",
                        "required": false,
                        "type": "number"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Repayment schedule for a specific customer.",
                        "schema": {
                            "additionalProperties": false,
                            "properties": {
                                "data": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "schedule": {
                                            "$ref": "#/definitions/repayment_schedule"
                                        },
                                        "summary": {
                                            "$ref": "#/definitions/repayment_schedule_summary"
                                        }
                                    },
                                    "required": [
                                        "schedule",
                                        "summary"
                                    ],
                                    "type": "object"
                                }
                            },
                            "required": [
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "context": {
            "title": "context",
            "additionalProperties": false,
            "properties": {
                "data": {
                    "additionalProperties": false,
                    "properties": {
                        "country_code": {
                            "enum": [
                                "uk",
                                "de",
                                "pl"
                            ],
                            "type": "string"
                        },
                        "intercom_app_id": {
                            "type": "string"
                        },
                        "min_repayment_credit_line": {
                            "type": "number"
                        },
                        "min_repayment_loan": {
                            "type": "number"
                        },
                        "user_date_joined": {
                            "format": "datetime",
                            "type": "string"
                        },
                        "user_intercom_hash": {
                            "type": "string"
                        },
                        "user_repayment_details": {
                            "additionalProperties": false,
                            "properties": {
                                "iban": {
                                    "type": "string"
                                },
                                "owner_name": {
                                    "type": "string"
                                },
                                "reference": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "iban",
                                "owner_name"
                            ],
                            "type": "object"
                        },
                        "user_signup_finished": {
                            "type": "boolean"
                        },
                        "user_split_tests": {
                            "items": {
                                "additionalProperties": false,
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "using": {
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "name",
                                    "using"
                                ],
                                "type": "object"
                            },
                            "type": "array"
                        }
                    },
                    "required": [
                        "country_code",
                        "intercom_app_id",
                        "min_repayment_credit_line",
                        "min_repayment_loan",
                        "user_date_joined",
                        "user_signup_finished",
                        "user_split_tests",
                        "state_key"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "business_loan_request": {
            "title": "business_loan_request",
            "additionalProperties": false,
            "properties": {
                "approval": {
                    "additionalProperties": false,
                    "properties": {
                        "amount": {
                            "description": "Amount that the user is looking to get approved for.",
                            "type": "number"
                        },
                        "datetime": {
                            "format": "date-time",
                            "type": "string"
                        },
                        "detailed_purpose": {
                            "description": "detailed_purpose is usually submitted if a purpose of other has been set.",
                            "type": "string"
                        },
                        "duration": {
                            "description": "Requested loan duration in months. For instance, an interval of 1m and a duration of 12 would correspond to a one year loan paid back in monthly instalments. In cases where the interval is not specified as a number of months, the actual duration will be rounded up to be a whole number of intervals (taking a month as 30 days).",
                            "type": "integer"
                        },
                        "interval": {
                            "description": "Interval between repayments, examples: 7d / 1m. Customers are put on a one month schedule by default and this would not typically be asked during the application journey.",
                            "type": "string"
                        },
                        "purpose": {
                            "description": "A purpose may not be submitted if the customer is simply looking to get approved for the future, rather than a specific need.",
                            "enum": [
                                "stock_purchase",
                                "bridging_loan",
                                "marketing",
                                "equipment_purchase",
                                "pay_bill",
                                "pay_staff",
                                "refinancing_debt",
                                "financing_client_order",
                                "pay_tax_bill",
                                "other"
                            ],
                            "type": "string"
                        },
                        "urgency": {
                            "description": "Describes whether the customer needs the funding immediately (asap), over the next few weeks (weeks) or is simply looking to get approved for future use (future).",
                            "enum": [
                                "asap",
                                "weeks",
                                "future_use"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "funding": {
                    "additionalProperties": false,
                    "properties": {
                        "amount": {
                            "description": "Amount that the user is looking to drawdown.",
                            "type": "number"
                        },
                        "datetime": {
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "api_errors": {
            "title": "api_errors",
            "additionalProperties": false,
            "description": "Present only if there was any issue during the request processing.",
            "properties": {
                "errors": {
                    "items": {
                        "additionalProperties": false,
                        "description": "Partial representation of an error as described in http://jsonapi.org/format/#errors.",
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "detail": {
                                "type": "string"
                            },
                            "meta": {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            "source": {
                                "additionalProperties": false,
                                "properties": {
                                    "parameter": {
                                        "type": "string"
                                    },
                                    "pointer": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        },
                        "required": [
                            "code",
                            "detail"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "decline": {
            "title": "decline",
            "additionalProperties": false,
            "description": "Additional information if a customer has been declined.",
            "properties": {
                "reasons_for_decline": {
                    "description": "Reasons that led to this declined application.",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "recommended_reapplication_date": {
                    "description": "Advised date to apply again.",
                    "format": "date",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "payment_method": {
            "title": "payment_method",
            "additionalProperties": false,
            "properties": {
                "data": {
                    "additionalProperties": false,
                    "properties": {
                        "bank_details": {
                            "$ref": "#/definitions/payment_method_bank_details"
                        },
                        "roles": {
                            "additionalProperties": false,
                            "properties": {
                                "funding": {
                                    "enum": [
                                        "enabled",
                                        "disabled"
                                    ],
                                    "type": "string"
                                },
                                "repayment": {
                                    "enum": [
                                        "primary",
                                        "backup",
                                        "disabled"
                                    ],
                                    "type": "string"
                                }
                            },
                            "required": [
                                "funding",
                                "repayment"
                            ],
                            "type": "object"
                        },
                        "token_details": {
                            "additionalProperties": false,
                            "properties": {
                                "provider": {
                                    "description": "The payment processor this payment method is registered with.",
                                    "enum": [
                                        "stripe"
                                    ],
                                    "type": "string"
                                },
                                "token": {
                                    "description": "Token provided by the payment processor referring to a certain payment method registered with them.",
                                    "maxLength": 100,
                                    "type": "string"
                                }
                            },
                            "required": [
                                "provider",
                                "token"
                            ],
                            "type": "object"
                        }
                    },
                    "required": [
                        "roles"
                    ],
                    "type": "object"
                }
            },
            "required": [
                "data"
            ],
            "type": "object"
        },
        "credit_facility_status": {
            "title": "credit_facility_status",
            "additionalProperties": false,
            "properties": {
                "data": {
                    "additionalProperties": false,
                    "properties": {
                        "approval_requirements": {
                            "items": {
                                "$ref": "#/definitions/data_requirement"
                            },
                            "type": "array"
                        },
                        "approval_status": {
                            "$ref": "#/definitions/approval_status"
                        },
                        "balance": {
                            "additionalProperties": false,
                            "description": "Balance for this credit facility as of today.",
                            "properties": {
                                "interest": {
                                    "type": "number"
                                },
                                "other_fees": {
                                    "type": "number"
                                },
                                "principal": {
                                    "type": "number"
                                },
                                "product_fees": {
                                    "type": "number"
                                },
                                "total": {
                                    "type": "number"
                                }
                            },
                            "type": "object"
                        },
                        "cashflows": {
                            "description": "Cashflows related to this loan. Mainly funding and repayments.",
                            "items": {
                                "additionalProperties": false,
                                "properties": {
                                    "amount": {
                                        "type": "number"
                                    },
                                    "datetime": {
                                        "format": "date-time",
                                        "type": "string"
                                    },
                                    "direction": {
                                        "enum": [
                                            "iwoca_to_customer",
                                            "customer_to_iwoca"
                                        ],
                                        "type": "string"
                                    },
                                    "type": {
                                        "enum": [
                                            "funding",
                                            "repayment",
                                            "reimbursement"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "funding_requirements": {
                            "items": {
                                "$ref": "#/definitions/data_requirement"
                            },
                            "type": "array"
                        },
                        "latest_approval_request": {
                            "$ref": "#/definitions/approval_request"
                        },
                        "loan_status": {
                            "description": "Status of current or last loan.",
                            "enum": [
                                "ongoing",
                                "ended",
                                "topup",
                                "pending",
                                "overdue",
                                "duetoday"
                            ],
                            "type": "string"
                        },
                        "scheduled_payments": {
                            "additionalProperties": false,
                            "properties": {
                                "schedule": {
                                    "$ref": "#/definitions/repayment_schedule"
                                },
                                "summary": {
                                    "$ref": "#/definitions/repayment_schedule_summary"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "approval_request": {
            "title": "approval_request",
            "additionalProperties": false,
            "description": "Latest approval request description. If no decision is possible, data_errors will detail the reasons.",
            "properties": {
                "status": {
                    "enum": [
                        "pending",
                        "decision_made",
                        "no_decision_possible",
                        "under_manual_review"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "credit_facility_features": {
            "title": "credit_facility_features",
            "additionalProperties": false,
            "properties": {
                "apr": {
                    "additionalProperties": false,
                    "properties": {
                        "maximum": {
                            "type": "number"
                        },
                        "minimum": {
                            "type": "number"
                        }
                    },
                    "type": "object"
                },
                "credit_limit": {
                    "additionalProperties": false,
                    "properties": {
                        "maximum": {
                            "type": "number"
                        },
                        "minimum": {
                            "type": "number"
                        }
                    },
                    "type": "object"
                },
                "representative_example": {
                    "additionalProperties": false,
                    "properties": {
                        "annual_interest_rate": {
                            "additionalProperties": false,
                            "properties": {
                                "rate": {
                                    "type": "number"
                                },
                                "rate_type": {
                                    "enum": [
                                        "fixed",
                                        "variable"
                                    ],
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "apr": {
                            "type": "number"
                        },
                        "credit_amount": {
                            "type": "number"
                        },
                        "duration": {
                            "type": "integer"
                        },
                        "interval": {
                            "type": "string"
                        },
                        "origination_fee": {
                            "type": "number"
                        },
                        "regular_repayment_amount": {
                            "type": "number"
                        },
                        "total_payable": {
                            "type": "number"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "errors": {
            "title": "errors",
            "items": {
                "additionalProperties": false,
                "properties": {
                    "code": {
                        "type": "string"
                    },
                    "detail": {
                        "type": "string"
                    }
                },
                "required": [
                    "code",
                    "detail"
                ],
                "type": "object"
            },
            "type": "array"
        },
        "repayment_schedule_summary": {
            "title": "repayment_schedule_summary",
            "additionalProperties": false,
            "properties": {
                "annual_interest_rate": {
                    "additionalProperties": false,
                    "properties": {
                        "rate": {
                            "type": "number"
                        },
                        "rate_type": {
                            "enum": [
                                "fixed",
                                "variable"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "apr": {
                    "type": "number"
                },
                "business_days_only": {
                    "type": "boolean"
                },
                "origination_fee": {
                    "type": "number"
                },
                "simplified_schedule": {
                    "additionalProperties": false,
                    "properties": {
                        "equal_repayments": {
                            "additionalProperties": false,
                            "properties": {
                                "amount": {
                                    "type": "number"
                                },
                                "day_of_month": {
                                    "type": "integer"
                                },
                                "day_of_week": {
                                    "type": "integer"
                                },
                                "final_standard_repayment_date": {
                                    "format": "date",
                                    "type": "string"
                                },
                                "first_standard_repayment_date": {
                                    "format": "date",
                                    "type": "string"
                                },
                                "interval": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "amount",
                                "interval",
                                "first_standard_repayment_date",
                                "final_standard_repayment_date"
                            ],
                            "type": "object"
                        },
                        "next_repayment": {
                            "additionalProperties": false,
                            "properties": {
                                "amount": {
                                    "type": "number"
                                },
                                "date": {
                                    "format": "date",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "amount",
                                "date"
                            ],
                            "type": "object"
                        }
                    },
                    "type": "object"
                },
                "total_credit_amount": {
                    "type": "number"
                },
                "total_number_of_repayments": {
                    "type": "integer"
                },
                "total_payable": {
                    "type": "number"
                }
            },
            "type": "object"
        },
        "online_subaccount": {
            "title": "online_subaccount",
            "properties": {
                "extra": {
                    "type": "object"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "format": "date-time",
                    "type": "string"
                }
            },
            "required": [
                "updated_at"
            ],
            "type": "object"
        },
        "verification": {
            "title": "verification",
            "additionalProperties": false,
            "properties": {
                "verification_method": {
                    "description": "Method of verification, depending on data type (e.g. 'Penny transfer' for bank_details or 'SMS code' for phone_number).",
                    "type": "string"
                },
                "verified": {
                    "description": "If verified is true, specifies that you are confident that this piece of data is valid, in line with any contractual obligations you have on checking and validating data.",
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "customer_funded": {
            "title": "customer_funded",
            "properties": {
                "amount_funded": {
                    "type": "number"
                },
                "funded_datetime": {
                    "format": "date-time",
                    "type": "string"
                },
                "loan_id": {
                    "type": "string"
                }
            },
            "required": [
                "amount_funded",
                "loan_id",
                "funded_datetime"
            ],
            "type": "object"
        },
        "company_address": {
            "title": "company_address",
            "additionalProperties": false,
            "properties": {
                "building_name": {
                    "maxLength": 250,
                    "type": "string"
                },
                "building_number": {
                    "maxLength": 250,
                    "type": "string"
                },
                "country": {
                    "enum": [
                        "GB",
                        "DE",
                        "PL",
                        "OTHER"
                    ],
                    "maxLength": 5,
                    "type": "string"
                },
                "flat_number": {
                    "maxLength": 250,
                    "type": "string"
                },
                "postcode": {
                    "maxLength": 250,
                    "type": "string"
                },
                "street_line_1": {
                    "maxLength": 250,
                    "type": "string"
                },
                "street_line_2": {
                    "maxLength": 250,
                    "type": "string"
                },
                "town": {
                    "maxLength": 250,
                    "type": "string"
                }
            },
            "type": "object"
        },
        "company": {
            "title": "company",
            "additionalProperties": false,
            "properties": {
                "bank_details": {
                    "$ref": "#/definitions/bank_details"
                },
                "company_number": {
                    "description": "Company number as on Companies House.",
                    "maxLength": 50,
                    "type": "string"
                },
                "creditreform_id": {
                    "description": "A 14 digit number identifying the company on the Creditreform database.",
                    "maxLength": 50,
                    "type": "string"
                },
                "industry": {
                    "description": "Recommended format is one of: Agriculture, Forestry & Fishing / Architecture & Engineering / Business Support Services (e.g. recruitment or security) / Car Dealers, Garages & Mechanics / Cleaning, Landscaping & Gardening / Construction (e.g. builders, civil engineer or electrician) / Education & Training / Finance & Insurance / Health & Care (e.g. day-care, doctors or care homes) / Hotels, Restaurants & Pubs / IT & Communications/ Leisure / Other Services (e.g. hairdressers or travel agents) / Manufacturing, Food Processing & Printing / Professional Services (e.g. accounting or consulting) / Property & Real Estate / Publishing, Film & Media Production / Retail (online or offline) / Transport & Logistics (e.g. taxis, couriers or storage) / Wholesale / Other.",
                    "type": "string"
                },
                "last_12_months_profit": {
                    "additionalProperties": false,
                    "description": "Estimated profit over the last 12 months. For a young business without a full year of trading, the profit to date should be given. A negative value denotes a loss.",
                    "properties": {
                        "amount": {
                            "description": "Pre-tax amount submitted by customer in local currency. Note that this differs from monthly_non_business_income which is post-tax.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "last_12_months_turnover": {
                    "additionalProperties": false,
                    "description": "Estimated revenue over the last 12 months. For a young business without a full year of revenue, revenue to date should be given.",
                    "properties": {
                        "amount": {
                            "description": "Amount submitted by customer in local currency or other estimate.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "number_of_employees": {
                    "type": "integer"
                },
                "online_sales_percentage": {
                    "type": "integer"
                },
                "overdraft_status": {
                    "additionalProperties": false,
                    "properties": {
                        "has_overdraft": {
                            "description": "Specifies whether the user claims their company has a business overdraft.",
                            "type": "boolean"
                        },
                        "total_overdraft_limit": {
                            "description": "User declaration for total overdraft limit available to the company. If the company has multiple overdrafts, the sum of the limits should be used.",
                            "type": "number"
                        }
                    },
                    "type": "object"
                },
                "registered_address": {
                    "$ref": "#/definitions/company_address"
                },
                "registered_company_name": {
                    "description": "Registered company name for a registered business such as a limited company, as on Companies House.",
                    "maxLength": 200,
                    "type": "string"
                },
                "registered_in_handelsregister": {
                    "description": "Specifies whether the user says their company is registered in the German Handelsregister.",
                    "type": "boolean"
                },
                "third_party_providers": {
                    "description": "Details of third-party providers used by the business such as Xero, eBay, PayPal or others.",
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "name": {
                                "maxLength": 200,
                                "type": "string"
                            },
                            "type": {
                                "enum": [
                                    "ecommerce",
                                    "software",
                                    "bank"
                                ],
                                "type": "string"
                            }
                        },
                        "required": [
                            "name",
                            "type"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "trading_address": {
                    "$ref": "#/definitions/company_address"
                },
                "trading_from_date": {
                    "description": "Date when company started trading, with expected ISO 8601 format.",
                    "format": "date",
                    "type": "string"
                },
                "trading_name": {
                    "description": "Primary company name used for sole traders and ordinary partnerships, otherwise registered name will typically be used.",
                    "maxLength": 200,
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "freiberufler",
                        "gewerbebetrieb",
                        "gewerbebetrieb_eingtr",
                        "ek",
                        "eg",
                        "gbr",
                        "ohg",
                        "kg",
                        "partnerschaft",
                        "gemeinnuetziger_verein",
                        "nicht_gemeinnuetziger_verein",
                        "ug",
                        "gmbh",
                        "gmbh_u_co_kg",
                        "aktiengesellschaft",
                        "ltd",
                        "kgaa",
                        "andere"
                    ],
                    "type": "string"
                },
                "vat_status": {
                    "additionalProperties": false,
                    "description": "Information on the company's VAT registration status.",
                    "properties": {
                        "is_vat_registered": {
                            "type": "boolean"
                        },
                        "registered_over_3_months": {
                            "type": "boolean"
                        },
                        "vat_number": {
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "website": {
                    "description": "Company website.",
                    "format": "uri",
                    "maxLength": 200,
                    "type": "string"
                }
            },
            "type": "object"
        },
        "credit_facility_request": {
            "title": "credit_facility_request",
            "additionalProperties": false,
            "properties": {
                "approval": {
                    "additionalProperties": false,
                    "properties": {
                        "amount": {
                            "description": "Amount that the user is looking to get approved for.",
                            "type": "number"
                        },
                        "datetime": {
                            "format": "date-time",
                            "type": "string"
                        },
                        "detailed_purpose": {
                            "description": "detailed_purpose is usually submitted if a purpose of other has been set.",
                            "type": "string"
                        },
                        "duration": {
                            "description": "Requested loan duration in months. For instance, an interval of 1m and a duration of 12 would correspond to a one year loan paid back in monthly instalments. In cases where the interval is not specified as a number of months, the actual duration will be rounded up to be a whole number of intervals (taking a month as 30 days).",
                            "type": "integer"
                        },
                        "interval": {
                            "description": "Interval between repayments, examples: 7d / 1m. Customers are put on a one month schedule by default and this would not typically be asked during the application journey.",
                            "type": "string"
                        },
                        "purpose": {
                            "description": "A purpose may not be submitted if the customer is simply looking to get approved for the future, rather than a specific need.",
                            "enum": [
                                "stock_purchase",
                                "bridging_loan",
                                "marketing",
                                "equipment_purchase",
                                "pay_bill",
                                "pay_staff",
                                "refinancing_debt",
                                "financing_client_order",
                                "pay_tax_bill",
                                "other"
                            ],
                            "type": "string"
                        },
                        "urgency": {
                            "description": "Describes whether the customer needs the funding immediately (asap), over the next few weeks (weeks) or is simply looking to get approved for future use (future).",
                            "enum": [
                                "asap",
                                "weeks",
                                "future_use"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "funding": {
                    "additionalProperties": false,
                    "properties": {
                        "amount": {
                            "description": "Amount that the user is looking to drawdown.",
                            "type": "number"
                        },
                        "datetime": {
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "webhook_payload": {
            "title": "webhook_payload",
            "additionalProperties": false,
            "properties": {
                "data": {
                    "additionalProperties": false,
                    "description": "Sent with approval_status_changed event: latest_approval_request / approval_status / approval_requirements.",
                    "properties": {
                        "approval_requirements": {
                            "items": {
                                "$ref": "#/definitions/data_requirement"
                            },
                            "type": "array"
                        },
                        "approval_status": {
                            "$ref": "#/definitions/approval_status"
                        },
                        "customer_funded": {
                            "$ref": "#/definitions/customer_funded"
                        },
                        "latest_approval_request": {
                            "$ref": "#/definitions/approval_request"
                        },
                        "payment_instructions": {
                            "items": {
                                "$ref": "#/definitions/webhook_payment_instruction"
                            },
                            "type": "array"
                        },
                        "state_key": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "marketing_opt_in": {
            "title": "marketing_opt_in",
            "additionalProperties": false,
            "properties": {
                "agreed": {
                    "description": "Specify if user has opted in to receive marketing emails from iwoca.",
                    "type": "boolean"
                },
                "datetime": {
                    "description": "Datetime when they opted in or out of marketing emails, with expected ISO 8601 format.",
                    "format": "date-time",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "report": {
            "title": "report",
            "additionalProperties": true,
            "properties": {},
            "type": "object"
        },
        "state_payload": {
            "title": "state_payload",
            "additionalProperties": false,
            "description": "The customer state endpoint.",
            "type": "object",
            "properties": {
                "data": {
                    "type": "object",
                    "properties": {
                        "application": {
                            "additionalProperties": false,
                            "description": "Data submitted by the customer about themselves, their company or their funding requirements. If this data changes over time, you should update the state to reflect the latest data or requirements.",
                            "type": "object",
                            "properties": {
                                "company": {
                                    "$ref": "#/definitions/company"
                                },
                                "people": {
                                    "description": "People associated with the company including the applicant and any other directors, shareholders or loan guarantors you wish to submit.",
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/person"
                                    }
                                },
                                "requested_products": {
                                    "additionalProperties": false,
                                    "type": "object",
                                    "properties": {
                                        "credit_facility": {
                                            "$ref": "#/definitions/credit_facility_request"
                                        }
                                    }
                                }
                            }
                        },
                        "partner": {
                            "additionalProperties": false,
                            "description": "Supplemental data that the partner holds on the customer. This should not be exposed to the customer since it may contain sensitive details such as the verification_data array.",
                            "type": "object",
                            "properties": {
                                "customer_type": {
                                    "description": "Any categorisation of the customer held by the partner that may be required when reporting back data or that should affect the journey (as agreed between iwoca and partner). For example, you might submit 'VIP_customer' if you wanted to track SLAs for these customers separately.",
                                    "type": "string"
                                },
                                "expected_products": {
                                    "additionalProperties": false,
                                    "type": "object",
                                    "properties": {
                                        "credit_facility": {
                                            "additionalProperties": false,
                                            "type": "object",
                                            "properties": {
                                                "approval": {
                                                    "additionalProperties": false,
                                                    "type": "object",
                                                    "properties": {
                                                        "amount": {
                                                            "description": "Submitted in cases where the partner has shown a customer an approval amount or a pre-qualified amount based on some data they hold. This should only be done with prior agreement from iwoca.",
                                                            "type": "number"
                                                        },
                                                        "apr": {
                                                            "type": "number"
                                                        },
                                                        "datetime": {
                                                            "format": "date-time",
                                                            "type": "string"
                                                        },
                                                        "duration": {
                                                            "type": "integer"
                                                        },
                                                        "interval": {
                                                            "type": "string"
                                                        },
                                                        "rate": {
                                                            "description": "Submitted in cases where the partner has shown a customer an expected monthly rate (including interest and fees) . This should only be done with prior agreement from iwoca.",
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "introducer_email": {
                                    "description": "Used by broker partners to determine which of their broker's accounts should be linked to the application submitted.",
                                    "format": "email",
                                    "type": "string"
                                },
                                "verified_data": {
                                    "additionalProperties": false,
                                    "description": "In certain situations, a partner may be trusted by iwoca to verify that certain pieces of data have already been checked. For example, the partner may have already verified the customer's phone number so there is no need for iwoca to do it again. This section is used for submitting data on any verification that has taken place. It must not be exposed to customers. The structure follows the structure of the application section.",
                                    "type": "object",
                                    "properties": {
                                        "company": {
                                            "additionalProperties": false,
                                            "type": "object",
                                            "properties": {
                                                "bank_details": {
                                                    "additionalProperties": false,
                                                    "type": "object",
                                                    "properties": {
                                                        "verification": {
                                                            "$ref": "#/definitions/verification"
                                                        }
                                                    }
                                                },
                                                "last_12_months_turnover": {
                                                    "additionalProperties": false,
                                                    "type": "object",
                                                    "properties": {
                                                        "verification": {
                                                            "$ref": "#/definitions/verification"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "people": {
                                            "type": "array",
                                            "items": {
                                                "additionalProperties": false,
                                                "type": "object",
                                                "properties": {
                                                    "emails": {
                                                        "type": "array",
                                                        "items": {
                                                            "additionalProperties": false,
                                                            "type": "object",
                                                            "properties": {
                                                                "uid": {
                                                                    "format": "uuid",
                                                                    "type": "string"
                                                                },
                                                                "verification": {
                                                                    "$ref": "#/definitions/verification"
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "identity_document_checks": {
                                                        "type": "array",
                                                        "items": {
                                                            "additionalProperties": false,
                                                            "type": "object",
                                                            "properties": {
                                                                "check_id": {
                                                                    "type": "string"
                                                                },
                                                                "comments": {
                                                                    "type": "string"
                                                                },
                                                                "datetime": {
                                                                    "format": "date-time",
                                                                    "type": "string"
                                                                },
                                                                "document_issuing_country": {
                                                                    "description": "Two digit ISO country code",
                                                                    "maxLength": 2,
                                                                    "type": "string"
                                                                },
                                                                "file_links": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "additionalProperties": false,
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "comments": {
                                                                                "type": "string"
                                                                            },
                                                                            "file_type": {
                                                                                "enum": [
                                                                                    "document_scan",
                                                                                    "photo",
                                                                                    "video",
                                                                                    "archive"
                                                                                ],
                                                                                "type": "string"
                                                                            },
                                                                            "link": {
                                                                                "format": "uri",
                                                                                "maxLength": 10000,
                                                                                "type": "string"
                                                                            },
                                                                            "name": {
                                                                                "maxLength": 500,
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "file_type",
                                                                            "link"
                                                                        ]
                                                                    }
                                                                },
                                                                "identity_document_type": {
                                                                    "enum": [
                                                                        "passport",
                                                                        "driving_licence",
                                                                        "national_id",
                                                                        "other"
                                                                    ],
                                                                    "type": "string"
                                                                },
                                                                "provider_name": {
                                                                    "maxLength": 200,
                                                                    "type": "string"
                                                                },
                                                                "status": {
                                                                    "enum": [
                                                                        "passed",
                                                                        "failed",
                                                                        "in_progress",
                                                                        "other"
                                                                    ],
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "datetime",
                                                                "status"
                                                            ]
                                                        }
                                                    },
                                                    "phones": {
                                                        "type": "array",
                                                        "items": {
                                                            "additionalProperties": false,
                                                            "type": "object",
                                                            "properties": {
                                                                "uid": {
                                                                    "format": "uuid",
                                                                    "type": "string"
                                                                },
                                                                "verification": {
                                                                    "$ref": "#/definitions/verification"
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "uid": {
                                                        "format": "uuid",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "uid"
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "schema_version": {
                            "description": "This field is ignored in POST/PUT requests.",
                            "enum": [
                                "v1"
                            ],
                            "type": "string"
                        },
                        "state_key": {
                            "description": "This field is ignored in POST/PUT requests.",
                            "format": "uuid",
                            "type": "string"
                        },
                        "version": {
                            "description": "This field is used for optimistic concurrency control. In response to a GET request the version represents the latest stored version of the state. In the payload of a PUT request it represents the version of the state that the client was editing, which would have been received in a response to an earlier GET request. This field will only be returned in GET requests if you have been opted into optimistic concurrency control. It should never be supplied with POST requests but should be supplied with PUT requests if you have been opted into optimistic concurrency control.",
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                }
            }
        },
        "repayment_schedule": {
            "title": "repayment_schedule",
            "description": "Payments schedule to repay the current loan.",
            "items": {
                "additionalProperties": false,
                "properties": {
                    "date": {
                        "description": "Date when the repayment must happen",
                        "format": "date",
                        "type": "string"
                    },
                    "interest": {
                        "type": "number"
                    },
                    "principal": {
                        "type": "number"
                    },
                    "total": {
                        "description": "Total amount to be repaid. Sum of all other amounts.",
                        "type": "number"
                    },
                    "total_fees": {
                        "description": "If applicable, fees to be repaid. Interest is not considered as fees and appears in its own section.",
                        "type": "number"
                    }
                },
                "required": [
                    "date",
                    "total",
                    "total_fees",
                    "interest",
                    "principal"
                ],
                "type": "object"
            },
            "type": "array"
        },
        "payment_instruction_outcome": {
            "title": "payment_instruction_outcome",
            "additionalProperties": false,
            "properties": {
                "datetime": {
                    "description": "Date-time the transaction occurred, with expected ISO 8601 format.",
                    "format": "date-time",
                    "type": "string"
                },
                "error": {
                    "additionalProperties": false,
                    "properties": {
                        "code": {
                            "enum": [
                                "insufficient_funds",
                                "technical_error"
                            ],
                            "type": "string"
                        },
                        "details": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "code",
                        "details"
                    ],
                    "type": "object"
                },
                "outcome": {
                    "enum": [
                        "success",
                        "failure"
                    ],
                    "type": "string"
                },
                "payment_instruction_id": {
                    "format": "uuid",
                    "type": "string"
                },
                "state_key": {
                    "format": "uuid",
                    "type": "string"
                }
            },
            "required": [
                "state_key",
                "outcome",
                "payment_instruction_id",
                "datetime"
            ],
            "type": "object"
        },
        "funding_requirement": {
            "title": "funding_requirement",
            "additionalProperties": false,
            "properties": {
                "category": {
                    "enum": [
                        "contractual",
                        "credit_rules",
                        "id_checks",
                        "contact_details",
                        "payments",
                        "enhanced_security_check"
                    ],
                    "type": "string"
                },
                "comments": {
                    "type": "string"
                },
                "recommended_resolution_method": {
                    "type": "string"
                },
                "resolution_methods": {
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "errors": {
                                "$ref": "#/definitions/errors"
                            },
                            "items": {
                                "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "created": {
                                            "format": "date-time",
                                            "type": "string"
                                        },
                                        "errors": {
                                            "$ref": "#/definitions/errors"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "enum": [
                                                "required",
                                                "completed",
                                                "pending",
                                                "error"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "status"
                                    ],
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "resolution_method": {
                                "type": "string"
                            },
                            "status": {
                                "enum": [
                                    "required",
                                    "completed",
                                    "pending",
                                    "error"
                                ],
                                "type": "string"
                            },
                            "type": {
                                "type": "string"
                            }
                        },
                        "type": "object"
                    },
                    "required": [
                        "resolution_method",
                        "status"
                    ],
                    "type": "array"
                },
                "status": {
                    "enum": [
                        "required",
                        "completed",
                        "pending",
                        "error"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "category",
                "status",
                "recommended_resolution_method"
            ],
            "type": "object"
        },
        "statement_row": {
            "title": "statement_row",
            "properties": {
                "closing_balance": {
                    "type": "number"
                },
                "closing_fees": {
                    "type": "number"
                },
                "closing_interest": {
                    "type": "number"
                },
                "closing_principal": {
                    "type": "number"
                },
                "date": {
                    "format": "date",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "fees_accrued": {
                    "type": "number"
                },
                "interest_accrued": {
                    "type": "number"
                },
                "row_type": {
                    "enum": [
                        "funding",
                        "fee",
                        "discretionary_adjustment",
                        "repayment",
                        "rebate",
                        "reimbursement",
                        "writedown",
                        "opening_balance",
                        "closing_balance",
                        "other"
                    ],
                    "type": "string"
                },
                "transaction_amount": {
                    "type": "number"
                }
            },
            "required": [
                "description",
                "closing_balance",
                "closing_fees",
                "closing_interest",
                "closing_principal",
                "row_type"
            ],
            "type": "object"
        },
        "bank_details": {
            "title": "bank_details",
            "additionalProperties": false,
            "description": "Details of the business bank account used for funding or repayments.",
            "properties": {
                "iban": {
                    "maxLength": 50,
                    "type": "string"
                }
            },
            "required": [
                "iban"
            ],
            "type": "object"
        },
        "address": {
            "title": "address",
            "additionalProperties": false,
            "properties": {
                "country": {
                    "enum": [
                        "GB",
                        "DE",
                        "PL",
                        "OTHER"
                    ],
                    "maxLength": 5,
                    "type": "string"
                },
                "date_from": {
                    "description": "Date with expected ISO 8601 format. Optionally specify the date when they moved to this address. This date can be an estimate.",
                    "format": "date",
                    "type": "string"
                },
                "flat_number": {
                    "maxLength": 250,
                    "type": "string"
                },
                "house_name": {
                    "maxLength": 250,
                    "type": "string"
                },
                "house_number": {
                    "maxLength": 250,
                    "type": "string"
                },
                "monthly_housing_expenses": {
                    "additionalProperties": false,
                    "description": "Monthly cost of rent or mortgage, depending on residential status, at this address. Required for lending to sole traders.",
                    "properties": {
                        "amount": {
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "postcode": {
                    "maxLength": 250,
                    "type": "string"
                },
                "property_value": {
                    "additionalProperties": false,
                    "description": "Estimated value of house or flat specified by address.",
                    "properties": {
                        "amount": {
                            "description": "Amount in local currency.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "residential_status": {
                    "description": "The rent_free option covers situations where they are living in a property that they don't own but they are not paying rent (e.g. living with parents or family).",
                    "enum": [
                        "tenant",
                        "owner_with_mortgage",
                        "owner_no_mortgage",
                        "rent_free"
                    ],
                    "type": "string"
                },
                "street_line_1": {
                    "maxLength": 250,
                    "type": "string"
                },
                "street_line_2": {
                    "maxLength": 250,
                    "type": "string"
                },
                "town": {
                    "maxLength": 250,
                    "type": "string"
                },
                "uid": {
                    "description": "Unique identifier created and stored by the partner which will allow you to retrieve/update this data in the future.",
                    "format": "uuid",
                    "type": "string"
                }
            },
            "required": [
                "uid"
            ],
            "type": "object"
        },
        "webhook_payment_instruction": {
            "title": "webhook_payment_instruction",
            "additionalProperties": false,
            "properties": {
                "amount": {
                    "type": "number"
                },
                "bank_details": {
                    "additionalProperties": false,
                    "properties": {
                        "account_number": {
                            "type": "string"
                        },
                        "sort_code": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "sort_code",
                        "account_number"
                    ],
                    "type": "object"
                },
                "direction": {
                    "enum": [
                        "iwoca_to_customer",
                        "customer_to_iwoca"
                    ],
                    "type": "string"
                },
                "payment_instruction_id": {
                    "format": "uuid",
                    "type": "string"
                },
                "state_key": {
                    "format": "uuid",
                    "type": "string"
                }
            },
            "required": [
                "payment_instruction_id",
                "amount",
                "state_key",
                "direction"
            ],
            "type": "object"
        },
        "customer_document": {
            "title": "customer_document",
            "additionalProperties": false,
            "properties": {
                "agreed": {
                    "type": "boolean"
                },
                "agreement_date": {
                    "format": "date",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "document_id": {
                    "format": "uuid",
                    "type": "string"
                },
                "downloads": {
                    "additionalProperties": false,
                    "properties": {
                        "signed": {
                            "format": "uri",
                            "type": "string"
                        },
                        "unsigned": {
                            "format": "uri",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "expired": {
                    "type": "boolean"
                },
                "label": {
                    "type": "string"
                },
                "required_method": {
                    "enum": [
                        "electronic_signature",
                        "wet_signature"
                    ],
                    "type": "string"
                },
                "required_person_to_sign_name": {
                    "type": "string"
                },
                "required_person_to_sign_uid": {
                    "format": "uuid",
                    "type": "string"
                },
                "signature_text": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "master_loan_agreement",
                        "repeat_loan_agreement",
                        "guarantee",
                        "reasonable_explanation",
                        "secci"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "document_id",
                "type",
                "agreed",
                "expired"
            ],
            "type": "object"
        },
        "approval": {
            "title": "approval",
            "additionalProperties": false,
            "description": "Information about the customer approval.",
            "properties": {
                "duration": {
                    "description": "Requested loan duration in months. For instance, an interval of 1m and a duration of 12 would correspond to a one year loan paid back in monthly instalments. In cases where the interval is not specified as a number of months, the actual duration will be rounded up to be a whole number of intervals (taking a month as 30 days).",
                    "type": "integer"
                },
                "interval": {
                    "description": "Interval between repayments, examples: 7d / 1m. Customers are put on a one month schedule by default and this would not typically be asked during the application journey.",
                    "type": "string"
                },
                "max_credit": {
                    "description": "Maximum credit being approved for.",
                    "type": "number"
                },
                "min_credit": {
                    "description": "Minimum credit allowed to be taken.",
                    "type": "number"
                },
                "promotions": {
                    "items": {
                        "enum": [
                            "first_month_interest_free",
                            "three_months_interest_free",
                            "first_month_half_interest"
                        ],
                        "type": "string"
                    },
                    "type": "array"
                },
                "rate_structures": {
                    "description": "Different applicable rates for this specific approval.",
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "effective_on_day": {
                                "description": "When this rate is effective. 0 means the first day of the loan.",
                                "type": "integer"
                            },
                            "rates": {
                                "description": "List of rates. Several rates can be applied to different principal amounts.",
                                "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "max_principal": {
                                            "description": "Rate applied up to this max_principal amount.",
                                            "type": "number"
                                        },
                                        "rate": {
                                            "type": "number"
                                        }
                                    },
                                    "type": "object"
                                },
                                "type": "array"
                            }
                        },
                        "type": "object"
                    },
                    "type": "array"
                },
                "time_out": {
                    "description": "Approval valid until this date.",
                    "format": "date-time",
                    "type": "string"
                },
                "top_up_allowed": {
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "payment_instruction": {
            "title": "payment_instruction",
            "additionalProperties": false,
            "properties": {
                "amount": {
                    "type": "number"
                },
                "direction": {
                    "enum": [
                        "iwoca_to_customer",
                        "customer_to_iwoca"
                    ],
                    "type": "string"
                },
                "error_code": {
                    "type": "string"
                },
                "error_details": {
                    "type": "string"
                },
                "outcome": {
                    "enum": [
                        "initiated",
                        "success",
                        "failure"
                    ],
                    "type": "string"
                },
                "outcome_datetime": {
                    "format": "date-time",
                    "type": "string"
                },
                "payment_instruction_id": {
                    "format": "uuid",
                    "type": "string"
                },
                "state_key": {
                    "format": "uuid",
                    "type": "string"
                }
            },
            "required": [
                "state_key",
                "direction",
                "amount",
                "payment_instruction_id",
                "outcome",
                "outcome_datetime"
            ],
            "type": "object"
        },
        "online_account": {
            "title": "online_account",
            "properties": {
                "accounts": {
                    "items": {
                        "$ref": "#/definitions/online_subaccount"
                    },
                    "type": "array"
                },
                "extra": {
                    "type": "object"
                },
                "linked_at": {
                    "format": "date-time",
                    "type": "string"
                },
                "online_account_id": {
                    "type": "string"
                },
                "provider": {
                    "type": "string"
                },
                "status": {
                    "additionalProperties": false,
                    "properties": {
                        "code": {
                            "type": "string"
                        },
                        "detail": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "code"
                    ],
                    "type": "object"
                },
                "updated_at": {
                    "format": "date-time",
                    "type": "string"
                }
            },
            "required": [
                "online_account_id",
                "provider",
                "linked_at",
                "updated_at",
                "status",
                "accounts"
            ],
            "type": "object"
        },
        "payment_method_bank_details": {
            "title": "payment_method_bank_details",
            "additionalProperties": false,
            "description": "Details of the business bank account used for funding or repayments.",
            "properties": {
                "iban": {
                    "maxLength": 50,
                    "type": "string"
                }
            },
            "required": [
                "iban"
            ],
            "type": "object"
        },
        "person": {
            "title": "person",
            "additionalProperties": false,
            "properties": {
                "credit_check_consent": {
                    "additionalProperties": false,
                    "properties": {
                        "agreed": {
                            "description": "Specify whether the user has agreed to an extended credit check.",
                            "type": "boolean"
                        },
                        "datetime": {
                            "description": "Datetime when they agreed or disagreed to an extended credit check, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "required": [
                        "agreed",
                        "datetime"
                    ]
                },
                "data_transfer_consent": {
                    "additionalProperties": false,
                    "descritption": "Specifies whether the user has consented to personal information being transferred to Fidor Bank, credit bureaus and further relevant third parties as described under static.iwoca.com/pdf/de/Einwilligung.pdf",
                    "properties": {
                        "agreed": {
                            "description": "",
                            "type": "boolean"
                        },
                        "datetime": {
                            "description": "",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "date_of_birth": {
                    "description": "Date with expected ISO 8601 format.",
                    "format": "date",
                    "type": "string"
                },
                "emails": {
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "email": {
                                "description": "Contact email address with format user@example.com (ideally not a generic address such as info@...).",
                                "format": "email",
                                "maxLength": 254,
                                "type": "string"
                            },
                            "marketing_opt_in": {
                                "$ref": "#/definitions/marketing_opt_in"
                            },
                            "type": {
                                "enum": [
                                    "primary",
                                    "secondary"
                                ],
                                "type": "string"
                            },
                            "uid": {
                                "description": "Unique identifier created and stored by the partner which will allow you to retrieve/update this data in the future.",
                                "format": "uuid",
                                "type": "string"
                            }
                        },
                        "required": [
                            "uid"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "first_name": {
                    "description": "Middle name is not required.",
                    "maxLength": 100,
                    "type": "string"
                },
                "how_did_you_find_us": {
                    "properties": {
                        "answer": {
                            "description": "Enum denoting where the customer heard about us.",
                            "enum": [
                                "letter",
                                "search_engine",
                                "friend_or_press",
                                "advisor",
                                "email",
                                "online_advert",
                                "phone_call",
                                "no_answer",
                                "train_or_bus_ad",
                                "radio"
                            ],
                            "type": "string"
                        },
                        "details": {
                            "description": "Additional Details.",
                            "maxLength": 50,
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "last_name": {
                    "maxLength": 100,
                    "type": "string"
                },
                "monthly_business_income": {
                    "additionalProperties": false,
                    "description": "The person's personal income or takings from the business per month.",
                    "properties": {
                        "amount": {
                            "description": "Post-tax amount submitted by customer in local currency.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "monthly_non_business_income": {
                    "additionalProperties": false,
                    "description": "All income from other jobs, pension etc. Required for lending to sole traders.",
                    "properties": {
                        "amount": {
                            "description": "Post-tax amount submitted by customer in local currency.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "monthly_non_housing_expenses": {
                    "additionalProperties": false,
                    "description": "All essential personal expenses, apart from housing. For example, food, transport and other loan repayments. Required for lending to sole traders.",
                    "properties": {
                        "amount": {
                            "description": "Amount submitted by customer in local currency.",
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "monthly_other_household_income": {
                    "additionalProperties": false,
                    "description": "Total income from other members of the applicant's household such as their wife or husband. Does not include their own income.",
                    "properties": {
                        "amount": {
                            "type": "number"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "number_of_dependents": {
                    "additionalProperties": false,
                    "description": "Number of people that are financially dependent on the person (such as children or people in their care).",
                    "properties": {
                        "count": {
                            "type": "integer"
                        },
                        "datetime": {
                            "description": "Datetime when user submitted data, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "phones": {
                    "items": {
                        "additionalProperties": false,
                        "description": "Contact phone numbers. It's preferable to have both a primary and secondary phone number for the applicant if available.",
                        "properties": {
                            "number": {
                                "description": "Quite flexible, can handle with/without country code, e.g. +447778473883 / 07778473883.",
                                "type": "string"
                            },
                            "type": {
                                "enum": [
                                    "primary",
                                    "secondary"
                                ],
                                "type": "string"
                            },
                            "uid": {
                                "description": "Unique identifier created and stored by the partner which will allow you to retrieve/update this data in the future.",
                                "format": "uuid",
                                "type": "string"
                            }
                        },
                        "required": [
                            "uid"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "privacy_policy": {
                    "additionalProperties": false,
                    "properties": {
                        "agreed": {
                            "description": "Specify whether the user has agreed to the iwoca privacy policy.",
                            "type": "boolean"
                        },
                        "datetime": {
                            "description": "Datetime when they agreed or disagreed with the iwoca privacy policy, with expected ISO 8601 format.",
                            "format": "date-time",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "residential_addresses": {
                    "items": {
                        "$ref": "#/definitions/address"
                    },
                    "type": "array"
                },
                "roles": {
                    "description": "There should only be one applicant but may be multiple people with the other roles.",
                    "items": {
                        "enum": [
                            "shareholder",
                            "applicant",
                            "director",
                            "guarantor",
                            "partner",
                            "other",
                            "beneficial_owner",
                            "authorised_person"
                        ],
                        "type": "string"
                    },
                    "type": "array"
                },
                "title": {
                    "enum": [
                        "herr",
                        "frau"
                    ],
                    "type": "string"
                },
                "uid": {
                    "description": "Unique identifier created and stored by the partner which will allow you to retrieve/update this data in the future.",
                    "format": "uuid",
                    "type": "string"
                }
            },
            "required": [
                "uid"
            ],
            "type": "object"
        },
        "uploaded_document": {
            "title": "customer_uploaded_document",
            "additionalProperties": false,
            "properties": {
                "document_id": {
                    "description": "Unique identifier for an uploaded document.",
                    "format": "hash",
                    "type": "string"
                },
                "document_name": {
                    "maxLength": 255,
                    "type": "string"
                },
                "document_type": {
                    "enum": [
                        "bank statement",
                        "business accounts",
                        "vat return",
                        "invoices",
                        "personal id",
                        "customer broker consent",
                        "balance sheet",
                        "profit and loss",
                        "company bylaws",
                        "nif card",
                        "modelo",
                        "management accounts",
                        "certificados",
                        "aged debtor report",
                        "business plan",
                        "pnl and balance",
                        "personal bank statement",
                        "self assessment tax return",
                        "articles of association",
                        "limited partner id",
                        "share registry",
                        "shareholder id",
                        "trade certificate",
                        "cash register",
                        "other"
                    ],
                    "maxLength": 40,
                    "type": "string"
                },
                "upload_date": {
                    "description": "Date the document was uploaded",
                    "format": "date-time",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "data_requirement": {
            "title": "data_requirement",
            "additionalProperties": false,
            "properties": {
                "comments": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "is_optional": {
                    "type": "boolean"
                },
                "recommended_resolution_methods": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "resolution_methods": {
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "description": {
                                "type": "string"
                            },
                            "items": {
                                "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "created_datetime": {
                                            "format": "date-time",
                                            "type": "string"
                                        },
                                        "errors": {
                                            "$ref": "#/definitions/errors"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "enum": [
                                                "pending",
                                                "completed",
                                                "failed"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "status"
                                    ],
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "name": {
                                "type": "string"
                            },
                            "status": {
                                "additionalProperties": false,
                                "properties": {
                                    "detail": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "enum": [
                                            "no_action_yet",
                                            "pending"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "type"
                                ],
                                "type": "object"
                            },
                            "type": {
                                "enum": [
                                    "file_upload",
                                    "account_linking",
                                    "data_submit"
                                ],
                                "type": "string"
                            }
                        },
                        "required": [
                            "type",
                            "name"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "status": {
                    "enum": [
                        "required",
                        "pending",
                        "completed"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "cc",
                        "bus_cc",
                        "dir_guarantor",
                        "fraud",
                        "docs",
                        "enhanced_security_check"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "status",
                "type"
            ],
            "type": "object"
        },
        "approval_status": {
            "title": "approval_status",
            "additionalProperties": false,
            "description": "Approval decision for a customer. Additional information depending on the status will appear in declined/approved sections.",
            "type": "object",
            "properties": {
                "approved": {
                    "$ref": "#/definitions/approval"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "approved",
                        "declined",
                        "deferred"
                    ],
                    "description": "Note: \"deferred\" is a new enum option as of January 2020."
                }
            }
        }
    }
}